# Copy this file to "config" (and replace tokens below) to make it active
#
# DO NOT CHANGE the formatting of assignment lines (removing spaces, etc) in
# this file! The 'config.example' files are used by our deployment scripts to
# build the final config for each web2py app. Changes here might keep it
# from being built properly.

[security]
secure_sessions_with_HTTPS = false

[maintenance]
# During system migration and other scheduled maintenance, we should allow
# viewing of existing studies but block study creation and editing.
# Boolean values here should be 'true' or 'false'. Use indents to define a long (multi-line) notice.
maintenance_in_progress = false
maintenance_notice = Study creation and editing are disabled while we upgrade to
                   the latest code and features. Please pardon the
                   inconvenience. We expect to be back online for editing
                   studies later this evening (Thursday, July 10).
## upcoming_maintenance_scheduled = true
## upcoming_maintenance_notice = Note that we've scheduled an upgrade for Saturday...

[apis]
# These values can be obtained by registering your instance as an
# application with GitHub, at https://github.com/settings/applications/new
github_client_id = YOUR_CLIENT_ID_HERE
github_redirect_uri = YOUR_REDIRECT_URI_HERE
# DON'T INCLUDE 'github_client_secret' value here. For better security, this is
# loaded from a separate file and added to config data on-the-fly.

# List public-facing base URL for supporting data services
# (NOTE that these are used by both server- and client-side code)
[domains]
treemachine = http://dev.opentreeoflife.org/treemachine:7474
taxomachine = http://dev.opentreeoflife.org/taxomachine:7476
oti = http://dev.opentreeoflife.org/oti
opentree_api = http://dev.opentreeoflife.org/phylesystem/v1

# Building on the URLs above, complete the public-facing URL for all methods
# (again, these should work from both server- and client-side code)
#
# NOTE: In our example setup, all service methods are proxied through Apache as
# URLs within the main opentree site. So we assume that partial paths '/db/data/' 
# are handled in the ProxyPass statement.
[method_urls]
getDraftTreeID_url = {treemachine_domain}/getDraftTreeID
getSyntheticTree_url = {treemachine_domain}/getSyntheticTree  
getSourceTree_url = {treemachine_domain}/getSourceTree  
getDraftTreeForOttolID_url = {treemachine_domain}/getDraftTreeForottId
# N.B. getDraftTreeForottId doesn't match the capitalization conventions used elsewhere.
getDraftTreeForNodeID_url = {treemachine_domain}/getDraftTreeForNodeID
doTNRSForAutocomplete_url = {taxomachine_domain}/autocompleteQuery
doTNRSForMappingOTUs_url = {taxomachine_domain}/contextQuery
getContextsJSON_url = {taxomachine_domain}/getContextsJSON
getContextForNames_url = {taxomachine_domain}/getContextForNames
getNodeIDForOttolID_url = {treemachine_domain}/getNodeIDForottId
phylesystem_config_url = {opentree_api_domain}/phylesystem_config
render_markdown_url = {opentree_api_domain}/render_markdown
getSynthesisSourceList_url = {treemachine_domain}/getSynthesisSourceList
getDraftTreeMRCAForNodes_url = {treemachine_domain}/getDraftTreeMRCAForNodes
getMRCAForNodes_url = {treemachine_domain}/getMRCA
getDraftTreeSubtreeForNodes_url = {treemachine_domain}/getDraftTreeSubtreeForNodes
findAllStudies_url = {oti_domain}/findAllStudies
singlePropertySearchForStudies_url = {oti_domain}/singlePropertySearchForStudies
singlePropertySearchForTrees_url = {oti_domain}/singlePropertySearchForTrees
findAllTreeCollections_url = {opentree_api_domain}/../../v2/collections

# Open Tree API - RESTful URLs for managing studies in remote storage (note HTTP verbs for each)
#
# NOTE that we shouldn't need '?jsoncallback=?' on URLs for the Open Tree API, since
# it now supports cross-domain requests via CORS

API_create_study_POST_url = {opentree_api_domain}/study
API_load_study_GET_url = {opentree_api_domain}/study/{STUDY_ID}
API_update_study_PUT_url = {opentree_api_domain}/study/{STUDY_ID}
API_remove_study_DELETE_url = {opentree_api_domain}/study/{STUDY_ID}

API_create_file_POST_url = {opentree_api_domain}/study/{STUDY_ID}/file
API_load_file_GET_url = {opentree_api_domain}/study/{STUDY_ID}/file/{FILE_ID}
API_update_file_PUT_url = {opentree_api_domain}/study/{STUDY_ID}/file/{FILE_ID}
API_remove_file_DELETE_url = {opentree_api_domain}/study/{STUDY_ID}/file/{FILE_ID}

API_create_collection_POST_url = {opentree_api_domain}/collection
API_load_collection_GET_url = {opentree_api_domain}/collection/{COLLECTION_ID}
API_update_collection_PUT_url = {opentree_api_domain}/collection/{COLLECTION_ID}
API_remove_collection_DELETE_url = {opentree_api_domain}/collection/{COLLECTION_ID}
